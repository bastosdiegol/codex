{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-90275e0fdeed4b22.js","node_modules/@parcel/runtime-js/lib/runtime-e3ed8b3bbeb73f26.js","assets/scripts/app.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error('Could not resolve bundle with id ' + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nparcelRegister(\"lKpmK\", function(module, exports) {\nmodule.exports = new URL(\"service-worker.ae2116a8.js\", import.meta.url).toString();\n\n});\n\nvar $cd6760d3ee244a7a$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse(\"[\\\"aVCRy\\\",\\\"codex.32c15598.js\\\",\\\"3o9Aw\\\",\\\"service-worker.ae2116a8.js\\\"]\"));\n\n\nvar $8XP4m = parcelRequire(\"8XP4m\");\n/**\r\n * Function to check if a user is authenticated\r\n * Redirects to index.html if user is not authenticated\r\n * @async\r\n */ function $67fddd50f369a05c$var$isUserAuthenticated() {\n    return new Promise((resolve, reject)=>{\n        (0, $8XP4m.auth).onAuthStateChanged((user)=>{\n            if (user) resolve(user);\n            else {\n                console.log(\"User is not authenticated\");\n                window.location = \"index.html\";\n                reject(\"User not authenticated\");\n            }\n        });\n    });\n}\n\nconst $67fddd50f369a05c$var$sw = new URL((parcelRequire(\"lKpmK\")));\nif (\"serviceWorker\" in navigator) {\n    const s = navigator.serviceWorker;\n    s.register($67fddd50f369a05c$var$sw.href, {\n        scope: \"/codex/\"\n    }).then(()=>console.log(\"Service Worker Registered for scope:\", $67fddd50f369a05c$var$sw.href, \"with\", \"file:///assets/scripts/app.js\")).catch((err)=>console.error(\"Service Worker Error:\", err));\n}\ndocument.addEventListener(\"DOMContentLoaded\", async ()=>{\n    await $67fddd50f369a05c$var$isUserAuthenticated();\n    const books = [];\n    const bookList = document.getElementById(\"book-list\");\n    const bookFormSection = document.getElementById(\"book-form\");\n    const bookForm = document.getElementById(\"book-management-form\");\n    const menu = document.getElementById(\"side-menu\");\n    const overlay = document.getElementById(\"menu-overlay\");\n    const burgerMenu = document.getElementById(\"burger-menu\");\n    const closeButton = document.getElementById(\"close-menu\");\n    const addBookLink = document.getElementById(\"add-book-link\");\n    const singOutLink = document.getElementById(\"sign-out\");\n    const closeBookForm = document.getElementById(\"close-form\");\n    const deleteBook = document.getElementById(\"delete-book\");\n    const bookId = document.getElementById(\"book-id\");\n    // Burguer Menu Functionality\n    toggleMenuTabIndex(false);\n    function openMenu() {\n        menu.classList.add(\"open\");\n        overlay.classList.add(\"show\");\n        toggleMenuTabIndex(true);\n        trapFocusWithinMenu();\n    }\n    function closeMenu() {\n        menu.classList.remove(\"open\");\n        overlay.classList.remove(\"show\");\n        toggleMenuTabIndex(false);\n    }\n    burgerMenu.addEventListener(\"click\", openMenu);\n    closeButton.addEventListener(\"click\", closeMenu);\n    overlay.addEventListener(\"click\", closeMenu);\n    // Load Books for the first time\n    await (0, $8XP4m.getBooksFromFirestore)(books);\n    /**\r\n   * Display Books\r\n   * Renders each book as Articles inside Book-List Section.\r\n   * @returns {void}\r\n   */ function displayBooks() {\n        bookList.innerHTML = \"\";\n        books.forEach((book)=>{\n            // Book Article\n            const bookCard = document.createElement(\"article\");\n            bookCard.id = book.id;\n            bookCard.classList.add(\"book-card\");\n            bookCard.setAttribute(\"aria-labelledby\", `book-title-${book.id}`);\n            bookCard.tabIndex = 0;\n            // Book image container\n            if (book.cover !== \"\") {\n                const bookImgDiv = document.createElement(\"div\");\n                bookImgDiv.classList.add(\"book-img\");\n                const bookImg = document.createElement(\"img\");\n                bookImg.src = book.cover;\n                bookImg.alt = `${book.title} Book Cover`;\n                bookImgDiv.appendChild(bookImg);\n                bookCard.appendChild(bookImgDiv);\n            }\n            // Book info container\n            const bookInfoDiv = document.createElement(\"div\");\n            bookInfoDiv.classList.add(\"book-info\");\n            const bookTitle = document.createElement(\"h2\");\n            bookTitle.id = `book-title-${book.id}`;\n            bookTitle.textContent = book.title;\n            const bookAuthor = document.createElement(\"p\");\n            bookAuthor.innerHTML = `<strong>Author:</strong> ${book.author}`;\n            const bookGenre = document.createElement(\"p\");\n            bookGenre.innerHTML = `<strong>Genre:</strong> ${book.genre.join(\", \")}`;\n            const bookStatus = document.createElement(\"p\");\n            bookStatus.innerHTML = `<strong>Status:</strong> ${book.status}`;\n            const bookProgress = document.createElement(\"p\");\n            bookProgress.innerHTML = `<strong>Progress:</strong> ${book.progress}%`;\n            const bookRatingSpan = document.createElement(\"span\");\n            bookRatingSpan.classList.add(\"book-rating\");\n            bookRatingSpan.setAttribute(\"aria-label\", `Rating: ${book.rating} out of 5 stars`);\n            bookRatingSpan.innerHTML = renderStars(book.rating);\n            // Append all info elements\n            bookInfoDiv.appendChild(bookTitle);\n            bookInfoDiv.appendChild(bookAuthor);\n            bookInfoDiv.appendChild(bookGenre);\n            bookInfoDiv.appendChild(bookStatus);\n            bookInfoDiv.appendChild(bookProgress);\n            // Append info to article\n            bookCard.appendChild(bookInfoDiv);\n            bookCard.appendChild(bookRatingSpan);\n            // Append Article to Book List\n            bookList.appendChild(bookCard);\n        });\n    }\n    /**\r\n   * Utility Function that creates a string of stars based on the rating value.\r\n   * @param {number} rating - Rating value from 1 to 5\r\n   * @returns {string} - String of stars\r\n   */ function renderStars(rating) {\n        return \"&starf;\".repeat(rating) + \"&star;\".repeat(5 - rating);\n    }\n    // Keyboard Navigation Functionality\n    let currentFocus = null;\n    // Focus on the currently focused book card\n    function focusOnBookCard(card) {\n        if (card) {\n            card.classList.add(\"highlight\");\n            card.focus();\n            card.scrollIntoView({\n                behavior: \"smooth\"\n            });\n            setTimeout(()=>card.classList.remove(\"highlight\"), 1000);\n        }\n    }\n    // Keyboard navigation using arrow keys for book cards\n    bookList.addEventListener(\"keydown\", (event)=>{\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            if (currentFocus === null) currentFocus = bookList.querySelector(\".book-card\");\n            else {\n                const nextCard = currentFocus.nextElementSibling;\n                if (nextCard && nextCard.classList.contains(\"book-card\")) currentFocus = nextCard;\n            }\n            focusOnBookCard(currentFocus);\n        } else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (currentFocus === null) currentFocus = bookList.querySelector(\".book-card\");\n            else {\n                const prevCard = currentFocus.previousElementSibling;\n                if (prevCard && prevCard.classList.contains(\"book-card\")) currentFocus = prevCard;\n            }\n            focusOnBookCard(currentFocus);\n        } else if (event.key === \"Enter\" || event.key === \" \") {\n            // Trigger opening the form for the focused book card\n            event.preventDefault();\n            if (currentFocus) {\n                const bookId = currentFocus.id;\n                const book = books.find((b)=>b.id == bookId);\n                openBookForm(book);\n            }\n        }\n    });\n    // Keyboard navigation using tab keys focus\n    bookList.addEventListener(\"focusin\", (event)=>{\n        if (event.target && event.target.classList.contains(\"book-card\")) currentFocus = event.target;\n    });\n    // Book Form Functionality\n    bookList.addEventListener(\"click\", (event)=>{\n        const bookCard = event.target.closest(\".book-card\");\n        if (bookCard) {\n            const bookId = bookCard.id;\n            const book = books.find((b)=>b.id == bookId);\n            openBookForm(book);\n        }\n    });\n    /**\r\n   * Open Book Form\r\n   * Populates form fields with book data when editing\r\n   * or clears form fields when adding a new book entry.\r\n   * @param {Object|null} book - Book object to populate form fields\r\n   * @returns {void}\r\n   */ function openBookForm(book = null) {\n        const formCover = document.getElementById(\"book-cover\");\n        const formId = document.getElementById(\"book-id\");\n        const formTitle = document.getElementById(\"book-title\");\n        const formAuthor = document.getElementById(\"book-author\");\n        const formGenre = document.getElementById(\"book-genre\");\n        const formProgress = document.getElementById(\"book-progress\");\n        const formStatus = document.getElementById(\"book-status\");\n        const formRating = document.getElementById(\"book-rating\");\n        if (book) {\n            formCover.value = book.cover;\n            formId.value = book.id;\n            formTitle.value = book.title;\n            formAuthor.value = book.author;\n            formGenre.value = book.genre;\n            formProgress.value = book.progress;\n            formStatus.value = book.status;\n            formRating.value = book.rating;\n            deleteBook.style.display = \"inline-block\";\n        } else {\n            formCover.value = \"\";\n            formId.value = \"\";\n            formTitle.value = \"\";\n            formAuthor.value = \"\";\n            formGenre.value = \"\";\n            formProgress.value = \"\";\n            formStatus.value = \"Not Read\";\n            formRating.value = \"\";\n            deleteBook.style.display = \"none\";\n        }\n        bookFormSection.classList.add(\"show\");\n        bookList.classList.add(\"hide\");\n    }\n    // Save Book Button Functionality\n    bookForm.addEventListener(\"submit\", async (event)=>{\n        event.preventDefault();\n        const form = event.target;\n        if (!form.checkValidity()) {\n            form.reportValidity();\n            return;\n        }\n        const cover = sanitizeInput(document.getElementById(\"book-cover\").value.trim());\n        const title = sanitizeInput(document.getElementById(\"book-title\").value.trim());\n        const author = sanitizeInput(document.getElementById(\"book-author\").value.trim());\n        const genre = document.getElementById(\"book-genre\").value.split(\",\").map((item)=>sanitizeInput(item.trim()));\n        const progress = sanitizeInput(document.getElementById(\"book-progress\").value.trim());\n        const status = sanitizeInput(document.getElementById(\"book-status\").value.trim());\n        const rating = sanitizeInput(document.getElementById(\"book-rating\").value.trim());\n        let savedBook;\n        if (bookId.value !== \"\") {\n            const bookIndex = books.findIndex((book)=>book.id == bookId.value);\n            if (bookIndex !== -1) {\n                books[bookIndex] = {\n                    id: bookId.value,\n                    cover: cover,\n                    title: title,\n                    author: author,\n                    genre: genre,\n                    progress: progress,\n                    status: status,\n                    rating: rating\n                };\n                try {\n                    await (0, $8XP4m.updateBookInFirestore)(books[bookIndex]);\n                } catch (error) {\n                    console.error(\"Error updating book in Firestore: \", error);\n                }\n                savedBook = books[bookIndex];\n            }\n        } else {\n            const newBook = {\n                cover: cover,\n                title: title,\n                author: author,\n                genre: genre,\n                progress: progress,\n                status: status,\n                rating: rating\n            };\n            books.push(newBook);\n            try {\n                books[books.length - 1].id = await (0, $8XP4m.addBookToFirestore)(newBook);\n            } catch (error) {\n                console.error(\"Error adding book to Firestore: \", error);\n            }\n            savedBook = newBook;\n        }\n        displayBooks();\n        bookFormSection.classList.remove(\"show\");\n        bookList.classList.remove(\"hide\");\n        const savedBookCard = document.getElementById(savedBook.id);\n        if (savedBookCard) {\n            savedBookCard.classList.add(\"highlight\");\n            savedBookCard.focus();\n            savedBookCard.scrollIntoView({\n                behavior: \"smooth\"\n            });\n            setTimeout(()=>savedBookCard.classList.remove(\"highlight\"), 1500);\n        }\n    });\n    // Close Form Button Functionality\n    closeBookForm.addEventListener(\"click\", ()=>{\n        bookFormSection.classList.remove(\"show\");\n        bookList.classList.remove(\"hide\");\n    });\n    // Delete Book Button Functionality\n    deleteBook.addEventListener(\"click\", function() {\n        if (bookId.value === \"\") return;\n        if (confirm(`Are you sure you want to delete the book \"${document.getElementById(\"book-title\").value}\" entry?`)) {\n            const bookIndex = books.findIndex((book)=>book.id == bookId.value);\n            if (bookIndex !== -1) {\n                try {\n                    (0, $8XP4m.removeBookFromFirestore)(bookId.value);\n                } catch (error) {\n                    console.error(\"Error removing book from Firestore: \", error);\n                }\n                books.splice(bookIndex, 1);\n            }\n            displayBooks();\n            bookFormSection.classList.remove(\"show\");\n            bookList.classList.remove(\"hide\");\n        }\n    });\n    // Add Book Link Functionality\n    addBookLink.addEventListener(\"click\", (event)=>{\n        event.preventDefault();\n        openBookForm();\n        closeMenu();\n    });\n    singOutLink.addEventListener(\"click\", async (event)=>{\n        event.preventDefault();\n        try {\n            await (0, $8XP4m.auth).signOut();\n            window.location = \"index.html\";\n        } catch (error) {\n            console.error(\"Error signing out: \", error);\n        }\n    });\n    /**\r\n   * Toggle Menu TabIndex\r\n   * Adds or removes tabindex attribute to menu links and close button.\r\n   * @param {boolean} isVisible - Determines if the menu is visible or not\r\n   * @returns {void}\r\n   */ function toggleMenuTabIndex(isVisible) {\n        const menuLinks = menu.querySelectorAll(\"nav a\");\n        const closeButton = menu.querySelector(\"#close-menu\");\n        menuLinks.forEach((link)=>{\n            if (isVisible) link.setAttribute(\"tabindex\", \"0\");\n            else link.setAttribute(\"tabindex\", \"-1\");\n        });\n        if (isVisible) closeButton.setAttribute(\"tabindex\", \"0\");\n        else closeButton.setAttribute(\"tabindex\", \"-1\");\n    }\n    /**\r\n   * Trap Focus Within Menu\r\n   * Allows for keyboard navigation within the menu.\r\n   * @returns {void}\r\n   */ function trapFocusWithinMenu() {\n        const menuLinks = menu.querySelectorAll(\"a\");\n        const closeButton = menu.querySelector(\"#close-menu\");\n        const firstLink = menuLinks[0];\n        const lastLink = menuLinks[menuLinks.length - 1];\n        menu.addEventListener(\"keydown\", (event)=>{\n            if (event.key === \"Tab\") {\n                if (event.shiftKey) {\n                    if (document.activeElement === firstLink) {\n                        closeButton.focus();\n                        event.preventDefault();\n                    } else if (document.activeElement === closeButton) {\n                        lastLink.focus();\n                        event.preventDefault();\n                    }\n                } else {\n                    if (document.activeElement === lastLink) {\n                        closeButton.focus();\n                        event.preventDefault();\n                    } else if (document.activeElement === closeButton) {\n                        firstLink.focus();\n                        event.preventDefault();\n                    }\n                }\n            }\n        });\n    }\n    // First Display of Books on Page Load\n    displayBooks();\n    /**\r\n   * Utility function Sanitize Input\r\n   * Prevents XSS attacks by encoding special characters.\r\n   * @param {string} input - User input to sanitize\r\n   * @returns {string} - Sanitized input\r\n   */ function sanitizeInput(input) {\n        const div = document.createElement(\"div\");\n        div.textContent = input;\n        return div.innerHTML;\n    }\n});\n\n\n//# sourceMappingURL=codex.32c15598.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(\"service-worker.ae2116a8.js\").toString();","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"aVCRy\\\",\\\"codex.32c15598.js\\\",\\\"3o9Aw\\\",\\\"service-worker.ae2116a8.js\\\"]\"));","import {\r\n  getBooksFromFirestore,\r\n  addBookToFirestore,\r\n  updateBookInFirestore,\r\n  removeBookFromFirestore,\r\n  auth,\r\n} from \"./firebase.js\";\r\n\r\n/**\r\n * Function to check if a user is authenticated\r\n * Redirects to index.html if user is not authenticated\r\n * @async\r\n */\r\nfunction isUserAuthenticated() {\r\n  return new Promise((resolve, reject) => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        console.log(\"User is not authenticated\");\r\n        window.location = \"index.html\";\r\n        reject(\"User not authenticated\");\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nconst sw = new URL(\"./service-worker.js\", import.meta.url);\r\nif (\"serviceWorker\" in navigator) {\r\n  const s = navigator.serviceWorker;\r\n  s.register(sw.href, {\r\n    scope: \"/codex/\",\r\n  })\r\n    .then(() =>\r\n      console.log(\r\n        \"Service Worker Registered for scope:\",\r\n        sw.href,\r\n        \"with\",\r\n        import.meta.url\r\n      )\r\n    )\r\n    .catch((err) => console.error(\"Service Worker Error:\", err));\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\r\n  await isUserAuthenticated();\r\n\r\n  const books = [];\r\n\r\n  const bookList = document.getElementById(\"book-list\");\r\n  const bookFormSection = document.getElementById(\"book-form\");\r\n  const bookForm = document.getElementById(\"book-management-form\");\r\n  const menu = document.getElementById(\"side-menu\");\r\n  const overlay = document.getElementById(\"menu-overlay\");\r\n  const burgerMenu = document.getElementById(\"burger-menu\");\r\n  const closeButton = document.getElementById(\"close-menu\");\r\n  const addBookLink = document.getElementById(\"add-book-link\");\r\n  const singOutLink = document.getElementById(\"sign-out\");\r\n  const closeBookForm = document.getElementById(\"close-form\");\r\n  const deleteBook = document.getElementById(\"delete-book\");\r\n  const bookId = document.getElementById(\"book-id\");\r\n\r\n  // Burguer Menu Functionality\r\n  toggleMenuTabIndex(false);\r\n  function openMenu() {\r\n    menu.classList.add(\"open\");\r\n    overlay.classList.add(\"show\");\r\n    toggleMenuTabIndex(true);\r\n    trapFocusWithinMenu();\r\n  }\r\n  function closeMenu() {\r\n    menu.classList.remove(\"open\");\r\n    overlay.classList.remove(\"show\");\r\n    toggleMenuTabIndex(false);\r\n  }\r\n\r\n  burgerMenu.addEventListener(\"click\", openMenu);\r\n  closeButton.addEventListener(\"click\", closeMenu);\r\n  overlay.addEventListener(\"click\", closeMenu);\r\n\r\n  // Load Books for the first time\r\n  await getBooksFromFirestore(books);\r\n\r\n  /**\r\n   * Display Books\r\n   * Renders each book as Articles inside Book-List Section.\r\n   * @returns {void}\r\n   */\r\n  function displayBooks() {\r\n    bookList.innerHTML = \"\";\r\n\r\n    books.forEach((book) => {\r\n      // Book Article\r\n      const bookCard = document.createElement(\"article\");\r\n      bookCard.id = book.id;\r\n      bookCard.classList.add(\"book-card\");\r\n      bookCard.setAttribute(\"aria-labelledby\", `book-title-${book.id}`);\r\n      bookCard.tabIndex = 0;\r\n\r\n      // Book image container\r\n      if (book.cover !== \"\") {\r\n        const bookImgDiv = document.createElement(\"div\");\r\n        bookImgDiv.classList.add(\"book-img\");\r\n        const bookImg = document.createElement(\"img\");\r\n        bookImg.src = book.cover;\r\n        bookImg.alt = `${book.title} Book Cover`;\r\n        bookImgDiv.appendChild(bookImg);\r\n        bookCard.appendChild(bookImgDiv);\r\n      }\r\n\r\n      // Book info container\r\n      const bookInfoDiv = document.createElement(\"div\");\r\n      bookInfoDiv.classList.add(\"book-info\");\r\n      const bookTitle = document.createElement(\"h2\");\r\n      bookTitle.id = `book-title-${book.id}`;\r\n      bookTitle.textContent = book.title;\r\n      const bookAuthor = document.createElement(\"p\");\r\n      bookAuthor.innerHTML = `<strong>Author:</strong> ${book.author}`;\r\n      const bookGenre = document.createElement(\"p\");\r\n      bookGenre.innerHTML = `<strong>Genre:</strong> ${book.genre.join(\", \")}`;\r\n      const bookStatus = document.createElement(\"p\");\r\n      bookStatus.innerHTML = `<strong>Status:</strong> ${book.status}`;\r\n      const bookProgress = document.createElement(\"p\");\r\n      bookProgress.innerHTML = `<strong>Progress:</strong> ${book.progress}%`;\r\n      const bookRatingSpan = document.createElement(\"span\");\r\n      bookRatingSpan.classList.add(\"book-rating\");\r\n      bookRatingSpan.setAttribute(\r\n        \"aria-label\",\r\n        `Rating: ${book.rating} out of 5 stars`\r\n      );\r\n      bookRatingSpan.innerHTML = renderStars(book.rating);\r\n\r\n      // Append all info elements\r\n      bookInfoDiv.appendChild(bookTitle);\r\n      bookInfoDiv.appendChild(bookAuthor);\r\n      bookInfoDiv.appendChild(bookGenre);\r\n      bookInfoDiv.appendChild(bookStatus);\r\n      bookInfoDiv.appendChild(bookProgress);\r\n      // Append info to article\r\n      bookCard.appendChild(bookInfoDiv);\r\n      bookCard.appendChild(bookRatingSpan);\r\n\r\n      // Append Article to Book List\r\n      bookList.appendChild(bookCard);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Utility Function that creates a string of stars based on the rating value.\r\n   * @param {number} rating - Rating value from 1 to 5\r\n   * @returns {string} - String of stars\r\n   */\r\n  function renderStars(rating) {\r\n    return \"&starf;\".repeat(rating) + \"&star;\".repeat(5 - rating);\r\n  }\r\n\r\n  // Keyboard Navigation Functionality\r\n  let currentFocus = null;\r\n\r\n  // Focus on the currently focused book card\r\n  function focusOnBookCard(card) {\r\n    if (card) {\r\n      card.classList.add(\"highlight\");\r\n      card.focus();\r\n      card.scrollIntoView({ behavior: \"smooth\" });\r\n      setTimeout(() => card.classList.remove(\"highlight\"), 1000);\r\n    }\r\n  }\r\n\r\n  // Keyboard navigation using arrow keys for book cards\r\n  bookList.addEventListener(\"keydown\", (event) => {\r\n    if (event.key === \"ArrowDown\") {\r\n      event.preventDefault();\r\n      if (currentFocus === null) {\r\n        currentFocus = bookList.querySelector(\".book-card\");\r\n      } else {\r\n        const nextCard = currentFocus.nextElementSibling;\r\n        if (nextCard && nextCard.classList.contains(\"book-card\")) {\r\n          currentFocus = nextCard;\r\n        }\r\n      }\r\n      focusOnBookCard(currentFocus);\r\n    } else if (event.key === \"ArrowUp\") {\r\n      event.preventDefault();\r\n      if (currentFocus === null) {\r\n        currentFocus = bookList.querySelector(\".book-card\");\r\n      } else {\r\n        const prevCard = currentFocus.previousElementSibling;\r\n        if (prevCard && prevCard.classList.contains(\"book-card\")) {\r\n          currentFocus = prevCard;\r\n        }\r\n      }\r\n      focusOnBookCard(currentFocus);\r\n    } else if (event.key === \"Enter\" || event.key === \" \") {\r\n      // Trigger opening the form for the focused book card\r\n      event.preventDefault();\r\n      if (currentFocus) {\r\n        const bookId = currentFocus.id;\r\n        const book = books.find((b) => b.id == bookId);\r\n        openBookForm(book);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Keyboard navigation using tab keys focus\r\n  bookList.addEventListener(\"focusin\", (event) => {\r\n    if (event.target && event.target.classList.contains(\"book-card\")) {\r\n      currentFocus = event.target;\r\n    }\r\n  });\r\n\r\n  // Book Form Functionality\r\n  bookList.addEventListener(\"click\", (event) => {\r\n    const bookCard = event.target.closest(\".book-card\");\r\n    if (bookCard) {\r\n      const bookId = bookCard.id;\r\n      const book = books.find((b) => b.id == bookId);\r\n      openBookForm(book);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Open Book Form\r\n   * Populates form fields with book data when editing\r\n   * or clears form fields when adding a new book entry.\r\n   * @param {Object|null} book - Book object to populate form fields\r\n   * @returns {void}\r\n   */\r\n  function openBookForm(book = null) {\r\n    const formCover = document.getElementById(\"book-cover\");\r\n    const formId = document.getElementById(\"book-id\");\r\n    const formTitle = document.getElementById(\"book-title\");\r\n    const formAuthor = document.getElementById(\"book-author\");\r\n    const formGenre = document.getElementById(\"book-genre\");\r\n    const formProgress = document.getElementById(\"book-progress\");\r\n    const formStatus = document.getElementById(\"book-status\");\r\n    const formRating = document.getElementById(\"book-rating\");\r\n\r\n    if (book) {\r\n      formCover.value = book.cover;\r\n      formId.value = book.id;\r\n      formTitle.value = book.title;\r\n      formAuthor.value = book.author;\r\n      formGenre.value = book.genre;\r\n      formProgress.value = book.progress;\r\n      formStatus.value = book.status;\r\n      formRating.value = book.rating;\r\n      deleteBook.style.display = \"inline-block\";\r\n    } else {\r\n      formCover.value = \"\";\r\n      formId.value = \"\";\r\n      formTitle.value = \"\";\r\n      formAuthor.value = \"\";\r\n      formGenre.value = \"\";\r\n      formProgress.value = \"\";\r\n      formStatus.value = \"Not Read\";\r\n      formRating.value = \"\";\r\n      deleteBook.style.display = \"none\";\r\n    }\r\n\r\n    bookFormSection.classList.add(\"show\");\r\n    bookList.classList.add(\"hide\");\r\n  }\r\n\r\n  // Save Book Button Functionality\r\n  bookForm.addEventListener(\"submit\", async (event) => {\r\n    event.preventDefault();\r\n    const form = event.target;\r\n    if (!form.checkValidity()) {\r\n      form.reportValidity();\r\n      return;\r\n    }\r\n\r\n    const cover = sanitizeInput(\r\n      document.getElementById(\"book-cover\").value.trim()\r\n    );\r\n    const title = sanitizeInput(\r\n      document.getElementById(\"book-title\").value.trim()\r\n    );\r\n    const author = sanitizeInput(\r\n      document.getElementById(\"book-author\").value.trim()\r\n    );\r\n    const genre = document\r\n      .getElementById(\"book-genre\")\r\n      .value.split(\",\")\r\n      .map((item) => sanitizeInput(item.trim()));\r\n    const progress = sanitizeInput(\r\n      document.getElementById(\"book-progress\").value.trim()\r\n    );\r\n    const status = sanitizeInput(\r\n      document.getElementById(\"book-status\").value.trim()\r\n    );\r\n    const rating = sanitizeInput(\r\n      document.getElementById(\"book-rating\").value.trim()\r\n    );\r\n\r\n    let savedBook;\r\n\r\n    if (bookId.value !== \"\") {\r\n      const bookIndex = books.findIndex((book) => book.id == bookId.value);\r\n      if (bookIndex !== -1) {\r\n        books[bookIndex] = {\r\n          id: bookId.value,\r\n          cover: cover,\r\n          title: title,\r\n          author: author,\r\n          genre: genre,\r\n          progress: progress,\r\n          status: status,\r\n          rating: rating,\r\n        };\r\n\r\n        try {\r\n          await updateBookInFirestore(books[bookIndex]);\r\n        } catch (error) {\r\n          console.error(\"Error updating book in Firestore: \", error);\r\n        }\r\n\r\n        savedBook = books[bookIndex];\r\n      }\r\n    } else {\r\n      const newBook = {\r\n        cover: cover,\r\n        title: title,\r\n        author: author,\r\n        genre: genre,\r\n        progress: progress,\r\n        status: status,\r\n        rating: rating,\r\n      };\r\n      books.push(newBook);\r\n      try {\r\n        books[books.length - 1].id = await addBookToFirestore(newBook);\r\n      } catch (error) {\r\n        console.error(\"Error adding book to Firestore: \", error);\r\n      }\r\n      savedBook = newBook;\r\n    }\r\n\r\n    displayBooks();\r\n    bookFormSection.classList.remove(\"show\");\r\n    bookList.classList.remove(\"hide\");\r\n\r\n    const savedBookCard = document.getElementById(savedBook.id);\r\n\r\n    if (savedBookCard) {\r\n      savedBookCard.classList.add(\"highlight\");\r\n      savedBookCard.focus();\r\n      savedBookCard.scrollIntoView({ behavior: \"smooth\" });\r\n      setTimeout(() => savedBookCard.classList.remove(\"highlight\"), 1500);\r\n    }\r\n  });\r\n\r\n  // Close Form Button Functionality\r\n  closeBookForm.addEventListener(\"click\", () => {\r\n    bookFormSection.classList.remove(\"show\");\r\n    bookList.classList.remove(\"hide\");\r\n  });\r\n\r\n  // Delete Book Button Functionality\r\n  deleteBook.addEventListener(\"click\", function () {\r\n    if (bookId.value === \"\") return;\r\n    if (\r\n      confirm(\r\n        `Are you sure you want to delete the book \"${\r\n          document.getElementById(\"book-title\").value\r\n        }\" entry?`\r\n      )\r\n    ) {\r\n      const bookIndex = books.findIndex((book) => book.id == bookId.value);\r\n      if (bookIndex !== -1) {\r\n        try {\r\n          removeBookFromFirestore(bookId.value);\r\n        } catch (error) {\r\n          console.error(\"Error removing book from Firestore: \", error);\r\n        }\r\n        books.splice(bookIndex, 1);\r\n      }\r\n      displayBooks();\r\n      bookFormSection.classList.remove(\"show\");\r\n      bookList.classList.remove(\"hide\");\r\n    }\r\n  });\r\n\r\n  // Add Book Link Functionality\r\n  addBookLink.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    openBookForm();\r\n    closeMenu();\r\n  });\r\n\r\n  singOutLink.addEventListener(\"click\", async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await auth.signOut();\r\n      window.location = \"index.html\";\r\n    } catch (error) {\r\n      console.error(\"Error signing out: \", error);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Toggle Menu TabIndex\r\n   * Adds or removes tabindex attribute to menu links and close button.\r\n   * @param {boolean} isVisible - Determines if the menu is visible or not\r\n   * @returns {void}\r\n   */\r\n  function toggleMenuTabIndex(isVisible) {\r\n    const menuLinks = menu.querySelectorAll(\"nav a\");\r\n    const closeButton = menu.querySelector(\"#close-menu\");\r\n    menuLinks.forEach((link) => {\r\n      if (isVisible) {\r\n        link.setAttribute(\"tabindex\", \"0\");\r\n      } else {\r\n        link.setAttribute(\"tabindex\", \"-1\");\r\n      }\r\n    });\r\n    if (isVisible) {\r\n      closeButton.setAttribute(\"tabindex\", \"0\");\r\n    } else {\r\n      closeButton.setAttribute(\"tabindex\", \"-1\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Trap Focus Within Menu\r\n   * Allows for keyboard navigation within the menu.\r\n   * @returns {void}\r\n   */\r\n  function trapFocusWithinMenu() {\r\n    const menuLinks = menu.querySelectorAll(\"a\");\r\n    const closeButton = menu.querySelector(\"#close-menu\");\r\n    const firstLink = menuLinks[0];\r\n    const lastLink = menuLinks[menuLinks.length - 1];\r\n\r\n    menu.addEventListener(\"keydown\", (event) => {\r\n      if (event.key === \"Tab\") {\r\n        if (event.shiftKey) {\r\n          if (document.activeElement === firstLink) {\r\n            closeButton.focus();\r\n            event.preventDefault();\r\n          } else if (document.activeElement === closeButton) {\r\n            lastLink.focus();\r\n            event.preventDefault();\r\n          }\r\n        } else {\r\n          if (document.activeElement === lastLink) {\r\n            closeButton.focus();\r\n            event.preventDefault();\r\n          } else if (document.activeElement === closeButton) {\r\n            firstLink.focus();\r\n            event.preventDefault();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // First Display of Books on Page Load\r\n  displayBooks();\r\n\r\n  /**\r\n   * Utility function Sanitize Input\r\n   * Prevents XSS attacks by encoding special characters.\r\n   * @param {string} input - User input to sanitize\r\n   * @returns {string} - Sanitized input\r\n   */\r\n  function sanitizeInput(input) {\r\n    const div = document.createElement(\"div\");\r\n    div.textContent = input;\r\n    return div.innerHTML;\r\n  }\r\n});\r\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$8XP4m","$67fddd50f369a05c$var$sw","navigator","s","serviceWorker","href","scope","then","console","log","catch","error","document","addEventListener","Promise","resolve","reject","auth","onAuthStateChanged","user","window","location","books","bookList","getElementById","bookFormSection","bookForm","menu","overlay","burgerMenu","closeButton","addBookLink","singOutLink","closeBookForm","deleteBook","bookId","closeMenu","classList","remove","toggleMenuTabIndex","displayBooks","innerHTML","forEach","book","rating","bookCard","createElement","add","setAttribute","tabIndex","cover","bookImgDiv","bookImg","src","alt","title","appendChild","bookInfoDiv","bookTitle","textContent","bookAuthor","author","bookGenre","genre","join","bookStatus","status","bookProgress","progress","bookRatingSpan","repeat","trapFocusWithinMenu","menuLinks","querySelectorAll","querySelector","firstLink","lastLink","event","key","shiftKey","activeElement","focus","preventDefault","getBooksFromFirestore","currentFocus","focusOnBookCard","card","scrollIntoView","behavior","setTimeout","openBookForm","formCover","formId","formTitle","formAuthor","formGenre","formProgress","formStatus","formRating","value","style","display","isVisible","link","sanitizeInput","input","div","nextCard","nextElementSibling","contains","prevCard","previousElementSibling","find","b","target","closest","savedBook","form","checkValidity","reportValidity","trim","split","map","item","bookIndex","findIndex","updateBookInFirestore","newBook","push","addBookToFirestore","savedBookCard","confirm","removeBookFromFirestore","splice","signOut"],"version":3,"file":"codex.32c15598.js.map"}